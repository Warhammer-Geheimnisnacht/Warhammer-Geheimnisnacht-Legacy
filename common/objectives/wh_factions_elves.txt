
# For Asur who don't want to meddle
faction_isolationist_elves = {
	type = character
	exclusive = yes

	warning_level = 80 # At this level of faction power we give player an alert. Set to 0 for no alerts.

	# Plotter scope
	potential = {
		is_ruler = yes
		independent = no
		is_landed = yes
		is_adult = yes
		trait = isolationist_elf
		NOT = { trait = incapable }
		capital_scope = { empire = { title = e_ulthuan } }
		primary_title = { higher_tier_than = DUKE }		#Only for Ulthuan Princes

		liege = { has_landed_title = e_ulthuan
			NOT =  { has_character_modifier = forced_policy_ulthuan }
			trait = interventionist_elf
			 }

		NOT = {
			AND = {
				liege = { tier = EMPEROR }
				OR = {
					in_faction = faction_succ_primogeniture
					in_faction = faction_succ_seniority
					in_faction = faction_succ_gavelkind
					in_faction = faction_succ_feudal_elective
					in_faction = faction_claimant
				}
			}
		}
		NOT = { in_faction = faction_independence }
		NOT = { in_faction = faction_lower_crown_authority }
	}

	# Target scope
	allow = {
			NOT = {
				any_war = {
					#war_title = ROOT
					using_cb = change_political_stance
				}
			}

			NOT = {
				reverse_has_opinion_modifier = {
					who = FROM
					modifier = opinion_coerced_into_leaving_faction
				}
			}
	}

	# Faction member scope (ROOT = joiner, FROM = target)
	allow_join = {
		ROOT = {
			is_ruler = yes
			independent = no
			is_landed = yes
			is_adult = yes
			trait = isolationist_elf
			NOT = { trait = incapable }
			capital_scope = { empire = { title = e_ulthuan } }
			primary_title = { higher_tier_than = DUKE }		#Only for Ulthuan Princes
			NOT = {
				AND = {
					liege = { tier = EMPEROR }
					OR = {
						in_faction = faction_succ_primogeniture
						in_faction = faction_succ_seniority
						in_faction = faction_succ_gavelkind
						in_faction = faction_succ_feudal_elective
						in_faction = faction_claimant
						in_faction = faction_lower_crown_authority
						in_faction = faction_independence
					}
				}
			}
		}
	}

	chance = {
		factor = 1

		modifier = {
			factor = 0.75		#less likely if close to the Phoenix King
			OR = { top_liege = { is_friend = ROOT }
				top_liege = { is_allied_with = ROOT }
				top_liege = { reverse_opinion = { who = ROOT value = 70 } }
				top_liege = { any_lover = { character = ROOT } }
				}
		}
		modifier = { 			#More likely if disliking Regent
			factor = 2
			top_liege = {
				has_regent = yes
				regent = {
					NOT = { character = ROOT }
					NOT = { reverse_opinion = { who = ROOT value = 0 } }
				}
			}
			NOT = {
				top_liege = {
					OR = {
						is_friend = ROOT
						is_allied_with = ROOT
					}
				}
			}
		}
		modifier = {
			factor = 2
			trait = content
		}
		modifier = {
			factor = 0.25
			trait = ambitious
		}
		modifier = {
			factor = 0.75
			trait = slothful
		}
		modifier = {
			factor = 1.75
			trait = envious
		}
		modifier = {
			factor = 1.75
			trait = proud
		}
		modifier = {
			factor = 1.25
			trait = diligent
		}
		modifier = {
			factor = 1.75
			trait = craven
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 100 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 90 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 80 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 70 } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = 0 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -10 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -20 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -30 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -40 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -50 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -60 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -70 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -80 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -90 } } }
		}

		modifier = {
			factor = 0.95
			top_liege = { trait = just }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = arbitrary }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = cruel }
		}
		modifier = {
			factor = 4
			top_liege = { trait = lunatic_3 }
		}
		modifier = {
			factor = 3
			top_liege = { trait = lunatic_2 }
		}
		modifier = {
			factor = 2
			top_liege = { trait = lunatic_1 }
		}
		modifier = {
			factor = 4
			top_liege = { trait = possessed }
		}
	}

	membership = {
		factor = 1

		modifier = {
			factor = 0.75		#less likely if close to the Phoenix King
			OR = { top_liege = { is_friend = ROOT }
				top_liege = { is_allied_with = ROOT }
				top_liege = { reverse_opinion = { who = ROOT value = 70 } }
				top_liege = { any_lover = { character = ROOT } } }
		}
		modifier = { 			#More likely if disliking Regent
			factor = 2
			top_liege = {
				has_regent = yes
				regent = {
					NOT = { character = ROOT }
					NOT = { reverse_opinion = { who = ROOT value = 0 } }
				}
			}
			NOT = {
				top_liege = {
					OR = {
						is_friend = ROOT
						is_allied_with = ROOT
					}
				}
			}
		}
		modifier = {
			factor = 2
			trait = content
		}
		modifier = {
			factor = 0.25
			trait = ambitious
		}
		modifier = {
			factor = 0.75
			trait = slothful
		}
		modifier = {
			factor = 1.75
			trait = envious
		}
		modifier = {
			factor = 1.75
			trait = proud
		}
		modifier = {
			factor = 1.25
			trait = diligent
		}
		modifier = {
			factor = 1.75
			trait = craven
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 100 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 90 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 80 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 70 } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = 0 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -10 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -20 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -30 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -40 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -50 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -60 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -70 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -80 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -90 } } }
		}

		modifier = {
			factor = 0.95
			top_liege = { trait = just }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = arbitrary }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = cruel }
		}
		modifier = {
			factor = 4
			top_liege = { trait = lunatic_3 }
		}
		modifier = {
			factor = 3
			top_liege = { trait = lunatic_2 }
		}
		modifier = {
			factor = 2
			top_liege = { trait = lunatic_1 }
		}
		modifier = {
			factor = 4
			top_liege = { trait = possessed }
		}
	}

	success = { always = no }
	effect = {
		FROM = {
			any_faction_backer = {
				faction = faction_isolationist_elves
				reverse_opinion = {
					modifier = opinion_grateful
					who = FROM
					years = 100		#Elves
				}
			}
		}
	}
	abort = { always = no }
	abort_effect = { }
}

# For Asur who do want to meddle
faction_interventionist_elves = {
	type = character
	exclusive = yes

	warning_level = 80 # At this level of faction power we give player an alert. Set to 0 for no alerts.

	# Plotter scope
	potential = {
		is_ruler = yes
		independent = no
		is_landed = yes
		is_adult = yes
		trait = interventionist_elf
		NOT = { trait = incapable }
		capital_scope = { empire = { title = e_ulthuan } }
		primary_title = { higher_tier_than = DUKE }		#Only for Ulthuan Princes

		liege = { has_landed_title = e_ulthuan
			NOT =  { has_character_modifier = forced_policy_ulthuan }
			trait = isolationist_elf
			}

		NOT = {
			AND = {
				liege = { tier = EMPEROR }
				OR = {
					in_faction = faction_succ_primogeniture
					in_faction = faction_succ_seniority
					in_faction = faction_succ_gavelkind
					in_faction = faction_succ_feudal_elective
					in_faction = faction_claimant
				}
			}
		}
		NOT = { in_faction = faction_independence }
		NOT = { in_faction = faction_lower_crown_authority }
	}

	# Target scope
	allow = {
			NOT = {
				any_war = {
					#war_title = ROOT
					using_cb = change_political_stance
				}
			}

			NOT = {
				reverse_has_opinion_modifier = {
					who = FROM
					modifier = opinion_coerced_into_leaving_faction
				}
			}
	}

	# Faction member scope (ROOT = joiner, FROM = target)
	allow_join = {
		ROOT = {
			is_ruler = yes
			independent = no
			is_landed = yes
			is_adult = yes
			trait = interventionist_elf
			NOT = { trait = incapable }
			capital_scope = { empire = { title = e_ulthuan } }
			primary_title = { higher_tier_than = DUKE }		#Only for Ulthuan Princes
			NOT = {
				AND = {
					liege = { tier = EMPEROR }
					OR = {
						in_faction = faction_succ_primogeniture
						in_faction = faction_succ_seniority
						in_faction = faction_succ_gavelkind
						in_faction = faction_succ_feudal_elective
						in_faction = faction_claimant
						in_faction = faction_lower_crown_authority
						in_faction = faction_independence
					}
				}
			}
		}
	}

	chance = {
		factor = 1

		modifier = {
			factor = 0.75		#less likely if close to the Phoenix King
			OR = { top_liege = { is_friend = ROOT }
				top_liege = { is_allied_with = ROOT }
				top_liege = { reverse_opinion = { who = ROOT value = 70 } }
				top_liege = { any_lover = { character = ROOT } } }
		}
		modifier = { 			#More likely if disliking Regent
			factor = 2
			top_liege = {
				has_regent = yes
				regent = {
					NOT = { character = ROOT }
					NOT = { reverse_opinion = { who = ROOT value = 0 } }
				}
			}
			NOT = {
				top_liege = {
					OR = {
						is_friend = ROOT
						is_allied_with = ROOT
					}
				}
			}
		}
		modifier = {
			factor = 0.5
			trait = content
		}
		modifier = {
			factor = 4
			trait = ambitious
		}
		modifier = {
			factor = 0.75
			trait = slothful
		}
		modifier = {
			factor = 1.75
			trait = envious
		}
		modifier = {
			factor = 1.75
			trait = proud
		}
		modifier = {
			factor = 1.25
			trait = diligent
		}
		modifier = {
			factor = 0.85
			trait = craven
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 100 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 90 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 80 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 70 } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = 0 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -10 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -20 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -30 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -40 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -50 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -60 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -70 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -80 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -90 } } }
		}

		modifier = {
			factor = 0.95
			top_liege = { trait = just }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = arbitrary }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = cruel }
		}
		modifier = {
			factor = 4
			top_liege = { trait = lunatic_3 }
		}
		modifier = {
			factor = 3
			top_liege = { trait = lunatic_2 }
		}
		modifier = {
			factor = 2
			top_liege = { trait = lunatic_1 }
		}
		modifier = {
			factor = 4
			top_liege = { trait = possessed }
		}
	}

	membership = {
		factor = 1

		modifier = {
			factor = 0.75		#less likely if close to the Phoenix King
			OR = { top_liege = { is_friend = ROOT }
				top_liege = { is_allied_with = ROOT }
				top_liege = { reverse_opinion = { who = ROOT value = 70 } }
				top_liege = { any_lover = { character = ROOT } } }
		}
		modifier = { 			#More likely if disliking Regent
			factor = 2
			top_liege = {
				has_regent = yes
				regent = {
					NOT = { character = ROOT }
					NOT = { reverse_opinion = { who = ROOT value = 0 } }
				}
			}
			NOT = {
				top_liege = {
					OR = {
						is_friend = ROOT
						is_allied_with = ROOT
					}
				}
			}
		}
		modifier = {
			factor = 0.5
			trait = content
		}
		modifier = {
			factor = 4
			trait = ambitious
		}
		modifier = {
			factor = 0.75
			trait = slothful
		}
		modifier = {
			factor = 1.75
			trait = envious
		}
		modifier = {
			factor = 1.75
			trait = proud
		}
		modifier = {
			factor = 1.25
			trait = diligent
		}
		modifier = {
			factor = 0.85
			trait = craven
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 100 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 90 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 80 } }
		}
		modifier = {
			factor = 0.95
			top_liege = { reverse_opinion = { who = ROOT value = 70 } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = 0 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -10 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -20 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -30 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -40 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -50 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -60 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -70 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -80 } } }
		}
		modifier = {
			factor = 1.25
			NOT = { top_liege = { reverse_opinion = { who = ROOT value = -90 } } }
		}

		modifier = {
			factor = 0.95
			top_liege = { trait = just }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = arbitrary }
		}
		modifier = {
			factor = 1.25
			top_liege = { trait = cruel }
		}
		modifier = {
			factor = 4
			top_liege = { trait = lunatic_3 }
		}
		modifier = {
			factor = 3
			top_liege = { trait = lunatic_2 }
		}
		modifier = {
			factor = 2
			top_liege = { trait = lunatic_1 }
		}
		modifier = {
			factor = 4
			top_liege = { trait = possessed }
		}
	}

	success = { always = no }
	effect = {
		FROM = {
			any_faction_backer = {
				faction = faction_isolationist_elves
				reverse_opinion = {
					modifier = opinion_grateful
					who = FROM
					years = 100		#Elves
				}
			}
		}
	}
	abort = { always = no }
	abort_effect = { }
}
